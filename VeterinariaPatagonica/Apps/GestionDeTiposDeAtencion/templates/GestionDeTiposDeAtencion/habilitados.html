{% extends 'GestionDeTiposDeAtencion/GestionDeTiposDeAtencion.html' %}

{% block titulo %}
Gestion de Tipos de Atencion | Ver Habilitados
{% endblock %}

{% block tituloSeccion %}
Tipos de Atencion Habilitados
{% endblock %}

{% block subtitulo %}
Actualmente disponibles para ser asignados a practicas
{% endblock %}

{% block secciones %}
{% include './snippets/secciones.html' with pagina='ver_habilitados' %}
{% endblock %}

{% block contenido %}

{% load navigation_filters %}

    <p> Los siguientes tipos de servicio estan habilitados.  </p>
    <br>
    <div id="filtrarTiposDeAtencionHabilitados">
        <a role="button" href="#filtrarTiposDeAtencion" data-toggle="collapse">
            <i class="glyphicon glyphicon-tasks"></i>
            <span>Criterios de busqueda</span>
        </a>
        <div id="filtrarTiposDeAtencion" class="collapse in">
            <form class="form-horizontal filtrado" action="" method="GET">
                <!--{% include "formularios/snippet.html" with formulario=form accion="Filtrar" %}-->
                    <div>
                        <form action="" method="GET">
                            <br>
                            <input name="nombre" placeholder="Nombre">
                            <input name="lugar" placeholder="Lugar">
                            <button type="submit" class="" data-toggle="tooltip" data-placement="bottom" title="Buscar">

                                <!--<a  class="btn btn-xs btn-default"> <i class="glyphicon glyphicon-search"> </i> </a>-->
                                <a  class="wrapper-simple naranja" > <i class="glyphicon glyphicon-search"> </i> </a>

                            </button>
                        </form>
                    </div>
            </form>
        </div>
    </div>
    <br>

{% if tiposDeAtencion %}
    <div class="table-responsive" id="tabla">
        <table class="table listado">
            <thead>
                <tr>
                    <th id="deshabilitados-nombre">Nombre</th>
                    <th id="deshabilitados-descripcion">Descripcion </th>
                    <th id="deshabilitados-lugar">Lugar </th>
                    <th id="deshabilitados-franjaHoraria">Franja Horaria </th>
                    <th id="deshabilitados-emergencia">Emergencia </th>
                    <th id="deshabilitados-acciones">Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for tipoDeAtencion in tiposDeAtencion %}
                <tr>
                    <td>
                        <a  href="{% url 'tiposDeAtencion:ver' tipoDeAtencion.id %}">
                            {{ tipoDeAtencion.nombre }}
                        </a>
                    </td>
                    <td>{{ tipoDeAtencion.descripcion|truncatechars:40 }}</td>
                    <td>{{ tipoDeAtencion.lugar}}</td>
                    <td>{{ tipoDeAtencion.inicioFranjaHoraria }} a {{ tipoDeAtencion.finFranjaHoraria }}</td>
                    <td> {% if tipoDeAtencion.emergencia == True %} Si {% else %} No {% endif %}</td>
                    <td> <p align="center">
                        <a href="{% url 'tiposDeAtencion:modificar' tipoDeAtencion.id %}" class="btn btn-xs btn-default">
                            <i class="glyphicon glyphicon-edit"> </i>
                        </a>
                        <a href="{% url 'tiposDeAtencion:deshabilitar' tipoDeAtencion.id %}" class="btn btn-xs btn-default">
                            <i class="glyphicon glyphicon-minus"> </i>
                        </a>
                    </p> </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

{% else %}

    <p> No hay tipos de atencion habilitados</p>

{% endif %}
    <div>
        <a class="btn btn-sm btn-default" href="{% url 'tiposDeAtencion:crear' %}"> Crear </a>
    </div>
    <div align="center">
        <ul class="pagination pagination-sm">
            {% if tiposDeAtencion.has_previous %}
                <li><a href="?page={{ tiposDeAtencion.previous_page_number }}" class="btn btnpages">
                    <i class="glyphicon glyphicon-chevron-left"></i></a></li>
            {% endif %}

            {% for page in tiposDeAtencion.paginator.page_range|page_filter:tiposDeAtencion %}
                <li class="{% if tiposDeAtencion.number == page %}active{% endif %}">
                    <a class="btn btnpages" href="?page={{ page }}">{{ page }}</a></li>
            {% endfor %}

            {% if tiposDeAtencion.has_next %}
                <li>
                    <a href="?page={{ tiposDeAtencion.next_page_number }}" class="btn btnpages">
                        <i class="glyphicon glyphicon-chevron-right"></i>
                    </a>
                </li>
            {% endif %}
        </ul>
    </div>

{% endblock %}

