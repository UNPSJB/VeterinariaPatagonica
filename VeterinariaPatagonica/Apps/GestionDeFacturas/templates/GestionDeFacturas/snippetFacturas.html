{{ formulario.non_field_errors }}

<script> function actualizarDinamico(precio,qnt,total){
 valorQnt = $("#"+precio).val();
 valorPrecio = $("#"+qnt).val();
 $("#"+total).val(parseInt(valorQnt) * parseInt(valorPrecio)); }
</script>

{% for field in form %}
  <div class="form-group {% if field.errors %}has-error{% endif %}">
      <label for="{{ campo.id_for_label }}" class="col-sm-1 control-label etiqueta">
          {{ field.label }}
      </label>
      <div class="col-sm-8">
        {{ field }}
        <div class="campo-errores"  {% if not campo.errors %}style="display:none;"{% endif %}>
          {% for error in campo.errors %} <span  class="help-block">{{ error }}</span> {% endfor %}
        </div>
      </div>
      <span style="display:none;" class="help-block">{{ field.help_text }}</span>
  </div>
{% endfor %}

{% block errores %}
  {{ formset.non_form_errors }}
{% endblock errores %}

<!-- Sección donde se colocan las tuplas agregadas con javascript (productos con su cantidaad)  -->
<div class= "col-xs-12">
  <div class="col-xs-12 well" >
    {{formset.management_form}}
    {% for form in formset %}
      <div class="col-xs-7" id="item-{{forloop.counter}}">
        {{form}}
      </div>
    {% endfor %}
    <div class="col-xs-5" id="buttons">
      <div>
        <a id="button-add" class="btn btn-primary btn-sm pull-right" role="button">
          Agregar Producto &raquo;
        </a>
    </div>
  </div>
  <div class="form-group">
    <div class="col-sm-offset-4 col-sm-8">
      <button type="submit" class="btn btn-sm btn-default">{{accion}}</button>
    </div>
  </div>
</div>
<!-- Acá está comentada la version anterior de la forma para mostrar las tuplas de productos -->
<!--<div class= "col-sm-offset-1" "col-sm-8">-->
  <!--<div class="col-xs-12 well" >-->
    <!--{{formset.management_form}}-->
    <!--{% for form in formset %}-->
      <!--{% if forloop.last %}-->
         <!--<div  id="formset-template">-->
          <!--{{form}}-->
          <!--<a class="btn btn-danger btn-sm rm pull-right">-->
            <!--<span class="glyphicon glyphicon-trash" title="Deshechar este producto."></span>-->
          <!--</a>-->
        <!--</div>-->
      <!--{% else %}-->
        <!--<div class="col-xs-9">-->
        <!--{{form}}-->

        <!-- <button class="btn btn-danger btn-sm rm" id="manzana" >eliminar</button> -->
      <!--</div>-->
      <!--{% endif %}-->
    <!--{% endfor %}-->

    <!--<div id="buttons">-->
      <!--<div>-->
        <!--<a id="button-add" class="btn btn-primary btn-sm pull-right" role="button">-->
          <!--<p>Agregar Producto &raquo;</p>-->
        <!--</a>-->
          <!--<a class="related-widget-wrapper-link add-related pull-right" id="add_id_detallefactura_set-0-producto" href="/admin/GestionDeProductos/producto/add/?_to_field=id&amp;_popup=1" title="Crear un nuevo producto"><img src="/static/admin/img/icon-addlink.svg" alt="Agregar"></a>-->
      <!--</div>-->
    <!--</div>-->
  <!--</div>-->
  <!--<div class="form-group">-->
    <!--<div class="col-sm-offset-4 col-sm-8">-->
      <!--<button type="submit" class="btn btn-sm btn-default">{{accion}}</button>-->
    <!--</div>-->
  <!--</div>-->
<!--</div>-->

      <div>
          <p>Precio de producto</p>
            <input id="d1" value='1' oninput="actualizarDinamico('d1','d2','totalD')">
          <p>Cantidad</p>
            <input id="d2" value='1' oninput="actualizarDinamico('d1','d2','totalD')">
          <p>Total</p>
            <!-- <input id="totalD" value='1' oninput="actualizarDinamico('d1','d2','totalD')"> -->
      </div>
<div class= "col-sm-offset-9" "col-sm-8">
<input type="text" size="3" id="peras" value="0" "> Total
<input type="text" id="totalID" value='1' oninput="actualizarDinamico('d1','d2','totalD')">

<p>Total</p>
<input id="totalD" value='1' oninput="actualizarDinamico('d1','d2','totalD')">
</div>
