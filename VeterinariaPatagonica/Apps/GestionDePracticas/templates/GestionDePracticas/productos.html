{% extends 'GestionDePracticas/practicas.html' %}
{% load static %}

{% block titulo %}
Modificar productos de {{ tipo }}
{% endblock %}

{% block practica-titulo %}
Modificar productos de {{ tipo }}
{% endblock %}

{% block practica-contenido %}

    <div class="practica-cuerpo">

        <form class="form formulario" action="{{ formAction }}" method="POST" onsubmit="validar(event);">

            {% csrf_token %}
            {% include "./formsetSnippet.html" with formset=formset label="Productos" %}

            <div class="col-sm-12 acciones">
                <button type="submit" class="btn btn-sm btn-default center-block">
                    Modificar
                </button>
            </div>

        </form>

    </div>

    <div id="empty-form-{{ formset.prefix }}" class="hidden" >
        {% include "./formsetFormSnippet.html" with prefix=formset.prefix form=formset.empty_form %}
    </div>

{% endblock %}

{% block paginaJavascript %}
    {{ block.super }}
    <script src="{% static 'GestionDePracticas/js/practicas.js' %}"></script>
    <script type="text/javascript">
        var validadores = [
            {
                "validador" : validarFormset,
                "argumentos" : {
                    "reemplazador" : reemplazarProductos,
                    "comparador" : compararProductos,
                    "formset_id" : "div-{{ formset.prefix }}",
                    "error" : "duplicados"
                }
            }
        ]
    </script>
{% endblock %}